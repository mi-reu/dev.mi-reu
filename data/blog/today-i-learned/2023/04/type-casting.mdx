---
title: TIL - 타입캐스팅(Type Casting)
date: '2023-04-16'
tags: ['TIL', 'swift']
draft: false
# summary:
---

## 타입캐스팅

- 인스턴스 타입을 검사 - is 연산자
- 클래스 계층 상의 타입 변환 - as 연산자

{/* > 상속: 기본적으로 데이터(저장 속성)를 추가하는 관점에서 생각 */}

### 인스턴스 타입을 검사하는 - is 연산자(type check operator)

- is 연산자 - 타입에 대한 검사를 수행하는 연산자
- 인스턴스 `is` 타입 (이항연산자)
  - 참이면 `true` 리턴, 거짓이면 `false` 리턴

### 인스턴스 타입의(메모리 구조에 대한) 힌트를 변경하는 - as 연산자(type cast operator)

- 업캐스팅(Upcasting)

  - as 연산자
  - 인스턴스 `as` 타입
  - 타입캐스팅 항상 성공
    - 상위 클래스의 메모리 구조로 인식
    - 상호 호환 가능한 타입도 항상 성공

- 다운캐스팅(Downcasting)

  - as? 연산자 / as! 연산자
  - 인스턴스 `as?` 타입
    - 성공: OptionalType 으로 리턴 -> 필요한 경우, 언래핑 필요
    - 실패: nil 리턴
  - 인스턴스 `as!` 타입
    - 성공: OptionalType 을 강제 언래핑한 타입
    - 실패: 런타입 오류

### as 연산자의 활용

상호 호환이 가능한 타입들의 경우 타입 캐스팅을 강제(`as!`)할 필요 없다.
그리고 이러한 방식을 `Bridging` 이라고 한다.

```swift
let str: String = "Hello"
let otherStr = str as NSString
```

> Bridging(브릿징) -> 서로 호환되는 형식을 캐스팅해서 쉽게 사용하는 것
